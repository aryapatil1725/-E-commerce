<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Your Cart</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.6/dist/css/bootstrap.min.css" rel="stylesheet">
  <style>
    body {
      background-color: #ffe6f0;
      font-family: 'Segoe UI', sans-serif;
    }

    h2 {
      color: #d63384;
    }

    .table th, .table td {
      vertical-align: middle;
    }

    .btn-success {
      background-color: #ff69b4;
      border-color: #ff69b4;
    }

    .btn-success:hover {
      background-color: #ff1493;
      border-color: #ff1493;
    }

    .btn-danger {
      background-color: #ff4d6d;
      border-color: #ff4d6d;
    }

    .btn-danger:hover {
      background-color: #e60040;
      border-color: #e60040;
    }

    input.quantity-input {
      max-width: 80px;
      border: 1px solid #d63384;
    }

    .container {
      background-color: #fff0f5;
      border-radius: 15px;
      padding: 30px;
      box-shadow: 0 4px 8px rgba(0,0,0,0.1);
    }
  </style>
</head>
<body>
<div class="container my-5">
  <h2 class="mb-4">ðŸ›’ Shopping Cart</h2>
  <table class="table table-bordered" id="cart-table">
    <thead class="table-light">
      <tr>
        <th>Image</th>
        <th>Name</th>
        <th>Price</th>
        <th>Quantity</th>
        <th>Subtotal</th>
        <th>Remove</th>
      </tr>
    </thead>
    <tbody></tbody>
  </table>
  <div class="text-end">
    <h4>Total: $<span id="total-price">0.00</span></h4>
    <a href="checkout.html" class="btn btn-success">Proceed to Checkout</a>
  </div>
</div>

<script>
function renderCart() {
  const cart = JSON.parse(localStorage.getItem("cart")) || [];
  const tbody = document.querySelector("#cart-table tbody");
  const totalEl = document.getElementById("total-price");
  tbody.innerHTML = "";
  let total = 0;

  cart.forEach((item, index) => {
    const subtotal = item.price * item.quantity;
    total += subtotal;

    const row = document.createElement("tr");
    row.innerHTML = `
      <td><img src="${item.image}" width="50"></td>
      <td>${item.name}</td>
      <td>$${item.price.toFixed(2)}</td>
      <td><input type="number" min="1" value="${item.quantity}" class="form-control quantity-input" data-index="${index}"></td>
      <td>$${subtotal.toFixed(2)}</td>
      <td><button class="btn btn-danger btn-sm remove-btn" data-index="${index}">X</button></td>
    `;
    tbody.appendChild(row);
  });

  totalEl.textContent = total.toFixed(2);

  document.querySelectorAll(".remove-btn").forEach(button => {
    button.addEventListener("click", () => {
      const index = button.dataset.index;
      cart.splice(index, 1);
      localStorage.setItem("cart", JSON.stringify(cart));
      renderCart();
    });
  });

  document.querySelectorAll(".quantity-input").forEach(input => {
    input.addEventListener("input", () => {
      const index = input.dataset.index;
      cart[index].quantity = parseInt(input.value);
      localStorage.setItem("cart", JSON.stringify(cart));
      renderCart();
    });
  });
}

document.addEventListener("DOMContentLoaded", renderCart);
</script>
</body>
</html>
